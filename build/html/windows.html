<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>How to run FUNWAVE-TVD on Windows &#8212; FUNWAVE Documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/lglb-sphinx-doc.css?v=3078a223" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FUNWAVE-TVD Workshop 2017" href="workshop_2017.html" />
    <link rel="prev" title="USACE Applications" href="usace_app.html" /> 
  </head><body>
<div class="header">
 <p class="logo"><a href="https://fengyanshi.github.io/build/html/index.html">
  <img class="logo" src="_static/../../../images/Funwave.svg" alt="Logo"/>
 </a></p>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="workshop_2017.html" title="FUNWAVE-TVD Workshop 2017"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usace_app.html" title="USACE Applications"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FUNWAVE Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="addition.html" ><strong>ADDITIONAL INFORMATION</strong></a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="useful.html" accesskey="U">Useful links</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">How to run FUNWAVE-TVD on Windows</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basics.html"><strong>BASICS</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="flowchart.html"><strong>ARCHITECTURE</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html"><strong>MODEL DOWNLOAD AND SETUP</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html"><strong>VIDEO TUTORIALS</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="definition.html"><strong>DEFINITIONS OF PARAMETERS</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="coupling_nesting.html"><strong>NESTING AND COUPLING</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html"><strong>EXAMPLES</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html"><strong>GALLERY</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html"><strong>FUNWAVE-TVD WORKSHOP</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html"><strong>BIBLIOGRAPHY</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html"><strong>AUTHORS</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="addition.html"><strong>ADDITIONAL INFORMATION</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="useful.html">Useful links</a></li>
<li class="toctree-l2"><a class="reference internal" href="info_structures.html">Wave Response with Coastal Structures</a></li>
</ul>
</li>
</ul>

<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="how-to-run-funwave-tvd-on-windows">
<span id="section-win10-install"></span><h1>How to run FUNWAVE-TVD on Windows<a class="headerlink" href="#how-to-run-funwave-tvd-on-windows" title="Link to this heading">Â¶</a></h1>
<p>This document is provided by
<a class="reference external" href="https://zyeeee.com/2019/01/04/compile-funwave-on-windows-10-via-linux-subsystem/">Zhouteng Ye</a>.</p>
<p><strong>Preface</strong></p>
<p>The FUNWAVE code is developed with UNIX based operation systems (Linux and OSX).
It used to be easy to compile with Microsoft Windows, but after the MPI feature was
introduced in FUNWAVE, people found diffculties when compiling with Windows OS.
Now, owing to a new feature of Windows 10, called <strong>Windows Subsystem for Linux</strong>,
the FUNWAVE code can be compiled with Windows 10 without annoying
compling rules for windows. The Linux subsystem allows the users to run Linux command in Windows OS. In some sense, the Linux subsystem is similar to the
virtual machine approach, but it is much easier and much more power than the
virtual machine in the following aspects:</p>
<ul class="simple">
<li><p>Fantastic connection between Windows and Linux. You can log in to the Linux subsystem by simply typing <code class="code docutils literal notranslate"><span class="pre">bash</span></code> in the Windows terminal. In addition, one can get access and write files to <em>any</em> files using the <code class="code docutils literal notranslate"><span class="pre">bash</span></code> commands.</p></li>
<li><p>No limitation of CPU and RAM. Unlike the virtual machine, Linux system can use all CPU and RAM of the PC without any restriction.</p></li>
</ul>
<p><strong>Install Linux Subsystem for Windows 10</strong></p>
<p>Make sure you have installed Windows 10 and logged in with your Microsoft account.</p>
<p>The first step is to enable the <em>Developer mode</em> in windows settings:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/1.JPG"><img alt="alternate text" src="_images/1.JPG" style="width: 800px; height: 500px;" />
</a>
</figure>
<p>Then turn on <strong>Windows Subsystem for Linux</strong> in <em>Control Panel</em>:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/2.JPG"><img alt="alternate text" src="_images/2.JPG" style="width: 800px; height: 500px;" />
</a>
</figure>
<p>Now Download a Linux distribution in <em>Microsoft Store</em>. Personally I prefer Ubuntu 16.04 LTS, but if this is unavailable, download the latest version (e.g., 18.04 LTS).</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/3.JPG"><img alt="alternate text" src="_images/3.JPG" style="width: 800px; height: 400px;" />
</a>
</figure>
<p>After install, you should be able to launch the Linux subsystem.</p>
<p><strong>Get ready with Linux Subsytem</strong></p>
<p>The first time one launch the Linux subsystem, it takes a couple minutes to initialize. After the initialization, one would be requested to set the username and password.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/5.JPG"><img alt="alternate text" src="_images/5.JPG" style="width: 800px; height: 500px;" />
</a>
</figure>
<p>Type the following commands then you are all set</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>sudo apt update
sudo apt upgrade
sudo apt install make
sudo apt install gfortran
sudo apt install mpich
</pre></div>
</div>
<p>If you are in China, I would remommend you to change the apt source to the Chinese host.</p>
<p><strong>Compile and run FUNWAVE</strong></p>
<p>To launch the Linux subsystem, you can simply run <code class="code docutils literal notranslate"><span class="pre">bash</span></code> in <em>Windows command window</em>, then you are in the real Linux.</p>
<p>It should be noted that you may not get access to all folders. If so, try to get the permission.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/7.JPG"><img alt="alternate text" src="_images/7.JPG" style="width: 800px; height: 400px;" />
</a>
</figure>
<p>With the example <code class="code docutils literal notranslate"><span class="pre">vessel_flat_bottom</span></code> and number of processors set to 4:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>make
mpirun -np 4 ./funwave_vessel
</pre></div>
</div>
<p>The code will be rnuning in the Linux subsystem. Do not worry about the communication between Linux and Windows. As you run the code in Linux, you can get real-time access to the data files generated by the Linux excutive.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/8.JPG"><img alt="alternate text" src="_images/8.JPG" style="width: 800px; height: 500px;" />
</a>
</figure>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="workshop_2017.html" title="FUNWAVE-TVD Workshop 2017"
             >next</a> |</li>
        <li class="right" >
          <a href="usace_app.html" title="USACE Applications"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FUNWAVE Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="addition.html" ><strong>ADDITIONAL INFORMATION</strong></a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="useful.html" >Useful links</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">How to run FUNWAVE-TVD on Windows</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2019, Fengyan Shi.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    </div>
  </body>
</html>