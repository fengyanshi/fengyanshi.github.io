
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Wave-maker with wave coherence specification &#8212; FUNWAVE Documentation</title>
    <link rel="stylesheet" href="_static/lglb-sphinx-doc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tsunami wave generation" href="wavemaker_tsunami.html" />
    <link rel="prev" title="Wave-maker specification" href="wavemaker_general.html" /> 
  </head><body>
<div class="header">
 <p class="logo"><a href="https://fengyanshi.github.io/build/html/index.html">
  <img class="logo" src="_static/../../../images/Funwave.svg" alt="Logo"/>
 </a></p>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="wavemaker_tsunami.html" title="Tsunami wave generation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wavemaker_general.html" title="Wave-maker specification"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FUNWAVE Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="definition.html" ><strong>DEFINITIONS OF PARAMETERS</strong></a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="central_para.html" >Parameters for Central Module</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="wavemaker_para.html" accesskey="U">Wave-maker specification</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basics.html"><strong>BASICS</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="flowchart.html"><strong>ARCHITECTURE</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html"><strong>MODEL DOWNLOAD AND SETUP</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html"><strong>VIDEO TUTORIALS</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="definition.html"><strong>DEFINITIONS OF PARAMETERS</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="definition.html#input-txt">INPUT.TXT</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="definition.html#definitions">Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="definition.html#simulation-checklist">Simulation Checklist</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="coupling_nesting.html"><strong>NESTING AND COUPLING</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html"><strong>EXAMPLES</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html"><strong>GALLERY</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html"><strong>FUNWAVE-TVD WORKSHOP</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html"><strong>BIBLIOGRAPHY</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html"><strong>AUTHORS</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="addition.html"><strong>ADDITIONAL INFORMATION</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="useful.html">Useful links</a></li>
<li class="toctree-l2"><a class="reference internal" href="info_structures.html">Wave Response with Coastal Structures</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="wave-maker-with-wave-coherence-specification">
<h1>Wave-maker with wave coherence specification<a class="headerlink" href="#wave-maker-with-wave-coherence-specification" title="Permalink to this headline">¶</a></h1>
<p>Please refer to <a class="reference external" href="https://doi.org/10.1029/2021JC017641">Salatin, R., Chen, Q., Bak, A. S., Shi, F., &amp; Brandt, S. R. (2021). Effects of wave coherence on longshore variability of nearshore wave processes. Journal of Geophysical Research: Oceans, 126, e2021JC01764</a></p>
<div class="section" id="wk-new-irr">
<h2>1. WK_NEW_IRR<a class="headerlink" href="#wk-new-irr" title="Permalink to this headline">¶</a></h2>
<p>WK_NEW_IRR is a directional wavemaker to generate waves with analytic spectra and user specified degree of wave coherence. Input file is similar to the WK_IRR case. In WK_IRR, default values are (Nfreq = 45) and (Ntheta = 24). However, in WK_NEW_IRR, default values are (Ntheta = 25) and (Nfreq = 1125). For Ntheta, it is better to choose an odd value to make sure mean direction has wave components. Nfreq of new wavemaker is also equal to Nfreq*Ntheta of WK_IRR (25*45 = 1125) since each wave frequency has only one wave component associated with that. Moreover, alpha_c defines the percentage of coherence, and its value is ranging from 0.0 to 100.0 with a default value of 0.0. Additionally, alpha_c = 100.0 also resembles the WK_IRR wavemaker.</p>
<p>Note: Currently, WK_NEW_IRR wavemaker is only capable of generating spectra with equal frequency method. Equal energy method will be developed soon.</p>
<p>Input.txt</p>
<blockquote>
<div><div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>!-----WAVEMAKER-----

 WAVEMAKER = WK_NEW_IRR
 DEP_WK = 8.0
 Xc_WK = 150.0
 Yc_WK = 0.0
 FreqPeak = 0.1
 FreqMin = 0.04
 FreqMax = 0.25
 Hmo = 1.0
 GammaTMA = 5.0
 ThetaPeak = 0.0
 Sigma_Theta = 10.0
 Nfreq = 1125    ! 45Nfreq*25Ntheta (similar to WK_IRR default values)
 Ntheta = 25     ! odd number is recommended (thus mean dir will have a component!)
 Delta_WK = 0.5
 alpha_c = 50.0  ! degree of coherence in percentage(if a value was not specified,          then alpha_c = 0.0).
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt>The corresponding examples for this wavemaker can be found in the following directories:</dt><dd><ul class="simple">
<li><p>simple_cases/wave_coherence/Case_NEWIRR_000P_Coherence</p></li>
<li><p>simple_cases/wave_coherence/Case_NEWIRR_050P_Coherence</p></li>
<li><p>simple_cases/wave_coherence/Case_NEWIRR_100P_Coherence</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="wk-new-data2d">
<h2>2. WK_NEW_DATA2D<a class="headerlink" href="#wk-new-data2d" title="Permalink to this headline">¶</a></h2>
<p>WK_NEW_DATA2D is a new wavemaker similar to WK_DATA2D. The difference is that instead of a gridded spectrum, information of individual waves are provided in the wave2d.txt file. In this file, number of frequencies, wave frequencies, wave directions, wave amplitudes, and phase values are given. In case the phase values were not given to the model, the model will generate them. Directory of this file is mentioned in the input.txt file. Please refer to Salatin et al. (2021) for more information on wave coherence and new wavemakers.</p>
<p>Input.txt</p>
<blockquote>
<div><div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>!-----WAVEMAKER-----
 WAVEMAKER = WK_NEW_DATA2D
 WaveCompFile = wave2d.txt
 DEP_WK = 8.0
 Xc_WK = 150.0
 Yc_WK = 0.0
 Delta_WK = 0.5
</pre></div>
</div>
</div></blockquote>
<p>Wave2d.txt</p>
<blockquote>
<div><div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>  2        - NumFreq
  8.0      - PeakPeriod
  0.125    - Freq wave 1
  0.125    - Freq wave 2
 12.000    - Dire wave 1
-12.000    - Dire wave 2
  0.3     - Amp wave 1
  0.3     - Amp wave 2
  0.0     - Phase wave 1
 20.0       - Phase wave 2
</pre></div>
</div>
</div></blockquote>
<p>The corresponding examples for this wavemaker can be found in the following directories:</p>
<blockquote>
<div><ul class="simple">
<li><p>simple_cases/wave_coherence/Case_DATA2D_000_Spectrum</p></li>
<li><p>simple_cases/wave_coherence/Case_DATA2D_050_Spectrum</p></li>
<li><p>simple_cases/wave_coherence/Case_DATA2D_100_Spectrum</p></li>
<li><p>simple_cases/wave_coherence/Case_DATA2D_1Wave</p></li>
<li><p>simple_cases/wave_coherence/Case_DATA2D_2Waves_Coherent</p></li>
<li><p>simple_cases/wave_coherence/Case_DATA2D_2Waves_NonCoherent</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="examples-2d-beach">
<h2>Examples (2D Beach):<a class="headerlink" href="#examples-2d-beach" title="Permalink to this headline">¶</a></h2>
<p>Model setup can be accessed from: <a class="reference external" href="https://fengyanshi.github.io/build/html/beach_2d.html">2D beach</a>.
Two example sets are provided for the new wavemakers. First set is for WK_NEW _IRR and WK _NEW _DATA2D with a full spectrum. While the initial one can generate the wavemaker with given parameters in the input file, for the latter a MATLAB code is provided to generate the analytic spectrum and save as wave2d.txt file.</p>
<p>The MATLAB code can be accessed from:</p>
<blockquote>
<div><p>simple_cases/wave_coherence/Spectrum_Generator_for_WKDATA2DMain.m</p>
</div></blockquote>
<p>Moreover, a separate MATLAB code is also provided to transform LOG.txt file of the WK_NEW_IRR into wave2d.txt file for WK_NEW_DATA2D and is accessible through:</p>
<blockquote>
<div><p>simple_caseswave_coherenceSpectrum_Generator_for_WKDATA2generate_data2d_input_from_wknewirr_LOG.m</p>
</div></blockquote>
<p>Since the input spectra for both wavemakers are the same and results are identical, only the results for WK_NEW_IRR are given below.
Second example set is for one regular wave, two coherent waves, and two noncoherent waves with very close frequencies. The wave parameters are given by the user to WK_NEW_DATA2D wavemaker.</p>
</div>
<div class="section" id="example-set-1">
<h2>Example Set 1:<a class="headerlink" href="#example-set-1" title="Permalink to this headline">¶</a></h2>
<p>Three levels of coherence (0, 50, and 100% from left to right) can be seen in the input analytic spectra. These spectra are plotted with the MATLAB code in the following directory which uses output LOG.txt file.</p>
<blockquote>
<div><p>simple_cases/wave_coherence/PostProcessing/LOG_READ.m</p>
</div></blockquote>
<div class="align-left figure">
<img alt="_images/coher_angle_phase.png" src="_images/coher_angle_phase.png" />
</div>
<p>Surface Elevation snapshots at t = 600 Tp for three levels of coherence (0, 50, and 100% from left to right).</p>
<div class="align-left figure">
<img alt="_images/coher_surface_ele.png" src="_images/coher_surface_ele.png" />
</div>
<p>Hrms with spin-off = 120 Tp and Averaging time = 880 Tp for three levels of coherence (0, 50, and 100% from left to right). Uniformity in wave height is dependent on df (frequency bin resolution), as well. As number of frequency bins increases and consequently, df decreases, averaging time should also increase to result in more longshore uniform wave processes with no wave coherence.</p>
<div class="align-left figure">
<img alt="_images/coher_wave_height.png" src="_images/coher_wave_height.png" />
</div>
<p>Current field with spin-off = 120 Tp and Averaging time = 880 Tp for three levels of coherence (0, 50, and 100% from left to right). Uniformity in current field is dependent on df (frequency bin resolution), as well. As number of frequency bins increases and consequently, df decreases, averaging time should increase to result in longshore uniform wave processes with no wave coherence.</p>
<div class="align-left figure">
<img alt="_images/coher_current.png" src="_images/coher_current.png" />
</div>
</div>
<div class="section" id="example-set-2">
<h2>Example Set 2:<a class="headerlink" href="#example-set-2" title="Permalink to this headline">¶</a></h2>
<p>This example is 2D Beach with one and two wave components given to the model as user input. Users can extend the number of waves with any wave frequency, direction, and amplitude. Users can also specify phase info for the wave components in the wave2d.txt file. If phase values not specified in the wave input file, FUNWAVE-TVD will assign the random phase values.</p>
<p>Surface Elevation snapshots for one wave (left), two coherent waves (middle), and two noncoherent waves with very close frequencies (right) at t = 62.5 Tp.</p>
<div class="align-left figure">
<img alt="_images/coh_vs_noncoh_ele.png" src="_images/coh_vs_noncoh_ele.png" />
</div>
<p>Hrms for one wave (left), two coherent waves (middle), and two noncoherent waves with very close frequencies (right) with spin-off = 12.5 Tp and Averaging time period = 50 Tp.</p>
<div class="align-left figure">
<img alt="_images/coh_vs_noncoh_height.png" src="_images/coh_vs_noncoh_height.png" />
</div>
<p>Current field for one wave (left), two coherent waves (middle), and two noncoherent waves with very close frequencies (right) with spin-off = 12.5 Tp and Averaging time period = 50 Tp.</p>
<div class="align-left figure">
<img alt="_images/coh_vs_noncoh_cur.png" src="_images/coh_vs_noncoh_cur.png" />
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="wavemaker_tsunami.html" title="Tsunami wave generation"
             >next</a> |</li>
        <li class="right" >
          <a href="wavemaker_general.html" title="Wave-maker specification"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FUNWAVE Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="definition.html" ><strong>DEFINITIONS OF PARAMETERS</strong></a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="central_para.html" >Parameters for Central Module</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="wavemaker_para.html" >Wave-maker specification</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Fengyan Shi.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>