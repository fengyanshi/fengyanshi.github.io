
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Wave-maker specification &#8212; FUNWAVE Documentation</title>
    <link rel="stylesheet" href="_static/lglb-sphinx-doc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Wave-maker specification2" href="wavemaker_coherence.html" />
    <link rel="prev" title="Wave-maker specification" href="wavemaker_para.html" /> 
  </head><body>
<div class="header">
 <p class="logo"><a href="https://fengyanshi.github.io/build/html/index.html">
  <img class="logo" src="_static/../../../images/Funwave.svg" alt="Logo"/>
 </a></p>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="wavemaker_coherence.html" title="Wave-maker specification2"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wavemaker_para.html" title="Wave-maker specification"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FUNWAVE Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="definition.html" ><strong>DEFINITIONS OF PARAMETERS</strong></a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="central_para.html" >Parameters for Central Module</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="wavemaker_para.html" accesskey="U">Wave-maker specification</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basics.html"><strong>BASICS</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="flowchart.html"><strong>ARCHITECTURE</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">MODEL DOWNLOAD AND SETUP</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="definition.html"><strong>DEFINITIONS OF PARAMETERS</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="definition.html#input-txt">INPUT.TXT</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="definition.html#definitions">Definitions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="coupling_nesting.html"><strong>NESTING AND COUPLING</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html"><strong>EXAMPLES</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html"><strong>GALLERY</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html"><strong>FUNWAVE-TVD WORKSHOP</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html"><strong>BIBLIOGRAPHY</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html"><strong>AUTHORS</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="addition.html"><strong>ADDITIONAL INFORMATION</strong></a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="wave-maker-specification">
<h1>Wave-maker specification<a class="headerlink" href="#wave-maker-specification" title="Permalink to this headline">¶</a></h1>
<p><strong>SPECIFICATION OF WAVEMAKER</strong></p>
<p>For theory about the wavemaker, see <a class="reference internal" href="wavemaker.html#section-wavemaker"><span class="std std-ref">Wave–maker</span></a></p>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span></code>: wavemaker type.</p></li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI_REC</span></code>: initial rectangular hump</dt><dd><p>need <code class="code docutils literal notranslate"><span class="pre">Xc,Yc</span></code> and <code class="code docutils literal notranslate"><span class="pre">WID</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">LEF_SOL</span></code>: left boundary solitary</dt><dd><p>need <code class="code docutils literal notranslate"><span class="pre">AMP,</span> <span class="pre">DEP</span></code>, and <code class="code docutils literal notranslate"><span class="pre">LAGTIME</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI_SOL</span></code>: initial solitary wave propagate in +x direction, WKN B solution</dt><dd><p>need <code class="code docutils literal notranslate"><span class="pre">AMP,</span> <span class="pre">DEP</span></code>, and <code class="code docutils literal notranslate"><span class="pre">XWAVEMAKER</span></code></p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI_OTH</span></code>:  other initial distribution specified in the code by users</p></li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">WK_REG</span></code>: Wei and Kirby 1999 internal wave maker</dt><dd><p>need <code class="code docutils literal notranslate"><span class="pre">Xc_WK,</span> <span class="pre">Yc_WK,</span> <span class="pre">Ywidth_WK,</span> <span class="pre">Tperiod,</span> <span class="pre">AMP_WK,</span> <span class="pre">DEP_WK,</span> <span class="pre">Theta_WK,</span> <span class="pre">and</span> <span class="pre">Time_ramp</span></code> (factor of period)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">WK_IRR</span></code>:  Wei and Kirby 1999 TMA spectrum wavemaker (internal)</dt><dd><p>need <code class="code docutils literal notranslate"><span class="pre">Xc_WK,</span> <span class="pre">Yc_WK,</span> <span class="pre">Ywidth_WK,</span> <span class="pre">DEP_WK,</span> <span class="pre">Time_ramp,</span> <span class="pre">Delta_WK,</span>&#160; <span class="pre">FreqPeak,</span> <span class="pre">FreqMin,FreqMax,</span> <span class="pre">Hmo,</span> <span class="pre">GammaTMA</span></code> (default: 3.3 ), <code class="code docutils literal notranslate"><span class="pre">ThetaPeak</span></code> (default: 0.0), <code class="code docutils literal notranslate"><span class="pre">Nfreq</span></code> (default: 45), <code class="code docutils literal notranslate"><span class="pre">Ntheta</span></code> (default: 24), <code class="code docutils literal notranslate"><span class="pre">EqualEnergy</span></code> (if <code class="code docutils literal notranslate"><span class="pre">TRUE</span></code>, this means that the frequency splitting is based on Equal-Energy, otherwise, based on Equal-Frequency space)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">JON_2D</span></code>:  JONSWAP spectrum wavemaker (internal)</dt><dd><p>need <code class="code docutils literal notranslate"><span class="pre">Xc_WK,</span> <span class="pre">Yc_WK,</span> <span class="pre">Ywidth_WK,</span>
<span class="pre">DEP_WK,</span> <span class="pre">Time_ramp,</span> <span class="pre">Delta_WK,</span>&#160; <span class="pre">FreqPeak,</span> <span class="pre">FreqMin,FreqMax,</span>
<span class="pre">Hmo,</span> <span class="pre">GammaTMA</span></code> (default: 3.3 ), <code class="code docutils literal notranslate"><span class="pre">ThetaPeak</span></code> (default: 0.0), <code class="code docutils literal notranslate"><span class="pre">Nfreq</span></code> (default: 45), <code class="code docutils literal notranslate"><span class="pre">Ntheta</span></code> (default: 24)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">JON_1D</span></code>:  JONSWAP 1D spectrum wavemaker (internal)</dt><dd><p>need <code class="code docutils literal notranslate"><span class="pre">Xc_WK,</span> <span class="pre">Yc_WK,</span> <span class="pre">Ywidth_WK,</span>
<span class="pre">DEP_WK,</span> <span class="pre">Time_ramp,</span> <span class="pre">Delta_WK,</span>&#160; <span class="pre">FreqPeak,</span> <span class="pre">FreqMin,</span> <span class="pre">FreqMax,</span>
<span class="pre">Hmo,</span> <span class="pre">GammaTMA</span></code> (default: 3.3 ), <code class="code docutils literal notranslate"><span class="pre">Nfreq</span></code> (default: 45)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">TMA_1D</span></code>:  TMA 1D spectrum wavemaker (internal)</dt><dd><p>need <code class="code docutils literal notranslate"><span class="pre">Xc_WK,</span> <span class="pre">Yc_WK,</span> <span class="pre">Ywidth_WK,</span>
<span class="pre">DEP_WK,</span> <span class="pre">Time_ramp,</span> <span class="pre">Delta_WK,</span>&#160; <span class="pre">FreqPeak,</span> <span class="pre">FreqMin,</span> <span class="pre">FreqMax,</span>
<span class="pre">Hmo,</span> <span class="pre">GammaTMA</span></code> (Note, still use TMA Gamma, default: 3.3 ), <code class="code docutils literal notranslate"><span class="pre">Nfreq</span></code> (default: 45)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">WK_TIME_SERIES</span></code>:</dt><dd><p>provide an fft of a time series to get each wave component, and then use Wei and Kirby’s (1999) wavemaker. For this internal wavemaker, the wave angle is zero (x direction) for all wave components. Need input <code class="code docutils literal notranslate"><span class="pre">WaveCompFile</span></code> (including 3 columns: <code class="code docutils literal notranslate"><span class="pre">per,</span> <span class="pre">amp,</span> <span class="pre">pha</span></code>) and <code class="code docutils literal notranslate"><span class="pre">NumWaveComp,</span> <span class="pre">PeakPeriod,</span> <span class="pre">DEP_WK,</span> <span class="pre">Xc_WK,</span> <span class="pre">Ywidth_WK</span></code></p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">WK_DATA2D</span></code>: 2D directional spectrum data specified in <code class="code docutils literal notranslate"><span class="pre">WaveCompFile</span></code>. Internal wavemaker. Need <code class="code docutils literal notranslate"><span class="pre">Xc_WK,</span> <span class="pre">Yc_WK,</span> <span class="pre">DEP_WK,</span> <span class="pre">Delta_WK</span></code>.</p>
<p>Format of <code class="code docutils literal notranslate"><span class="pre">WaveCompFile</span></code>:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>62  35   - NumFreq NumDir

0.0925000011921 - PeakPeriod

0.0400 - Freq

0.0475 - Freq

<span class="cp">...</span>

-0.05  - Dir (degree)

0.0    - Dir (degree)

<span class="cp">...</span>

0.01133044 0.00973217 ... (amplitude,m)
</pre></div>
</div>
<p>An example for preparing WaveCompFile can be found in /simple_cases/beach_2d/spectral_data/. It is a case which converts wave data from FRF to the model input. Run the matlab script mk_2d_1d_spec_frf.m to generate a file called wave2d_frf.txt. In input.txt, specify <code class="code docutils literal notranslate"><span class="pre">WaveCompFile</span> <span class="pre">=</span> <span class="pre">../spectral_data/MATLAB/wave2d_frf.txt</span></code></p>
<p>The read format in fortran:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span> OPEN(1,FILE=TRIM(WaveCompFile))

  READ(1,*)NumFreq,NumDir

  ALLOCATE (Amp_Ser(NumFreq,NumDir),  &amp;

     Per_Ser(NumFreq),Theta_Ser(NumDir))

  READ(1,*)PeakPeriod

  DO J=1,NumFreq

     READ(1,*)Per_Ser(J)

  ENDDO

  DO I=1,NumDir

     READ(1,*)Theta_Ser(I)

  ENDDO

  DO I=1,NumDir

    READ(1,*)(Amp_Ser(J,I),J=1,NumFreq)

  ENDDO

! you dont have to input phase info. The program will skip the phase info
! if there is no more data below Amp_Ser
  DO I=1,NumDir

    READ(1,*,END=110)(Phase_2D(J,I),J=1,NumFreq)

  ENDDO

 CLOSE(1)
</pre></div>
</div>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">LEFT_BC_IRR</span></code>: Wavemaker at the left boundary (ghost cells). This type of wavemaker reflects waves at the left boundary. Need <code class="code docutils literal notranslate"><span class="pre">WAVE_DATA_TYPE</span> <span class="pre">(DATA,</span> <span class="pre">TMA2D,</span> <span class="pre">JON2D,</span> <span class="pre">JON1D)</span></code> and other parameters as the same as in the internal wavemaker. Although it is an irregular wavemaker, it can generate regular waves using <code class="code docutils literal notranslate"><span class="pre">WAVE_DATA_TYPE</span> <span class="pre">=</span> <span class="pre">DATA</span></code> by specifying a single wave component.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI_GAUSSIAN</span> <span class="pre">or</span> <span class="pre">INI_GAU</span></code>: initial Gaussian hump. Need <code class="code docutils literal notranslate"><span class="pre">AMP,</span> <span class="pre">Xc,</span> <span class="pre">Yc,</span> <span class="pre">and</span> <span class="pre">WID</span></code>.</p></li>
</ul>
<p><strong>Definitions:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">WAVE_DATA_TYPE</span></code>: Type of wave data needed for <code class="code docutils literal notranslate"><span class="pre">LEFT_BC_IRR</span></code> WaveMaker. It can be DATA or other types used for internal wavemakers</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">AMP</span></code>: amplitude (m) of initial <span class="math notranslate nohighlight">\(\eta\)</span>, if <code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI_REC,</span> <span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI_SOL,</span> <span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">LEF_SOL</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">DEP</span></code>: water depth at wavemaker location, if <code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI_SOL,</span> <span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">LEF_SOL</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">LAGTIME</span></code>, time lag (s) for the solitary wave generated on the left boundary, e.g., <code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">LEF_SOL</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">XWAVEMAKER</span></code>: x (m) coordinate for <code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI\_SOL</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Xc</span></code>: x (m) coordinate of the center of  a rectangular hump if <code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI_REC</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Yc</span></code>: y (m) coordinate of the center of  a rectangular hump if <code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI_REC</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">WID</span></code>: width (m) of  a rectangular hump if <code class="code docutils literal notranslate"><span class="pre">WAVEMAKER</span> <span class="pre">=</span> <span class="pre">INI\_REC,</span> <span class="pre">or</span> <span class="pre">INI\_GAU</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Time_ramp</span></code>: time ramp (s) for Wei and Kirby (1999) wavemaker. Default: 0.0.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Delta_WK</span></code>: width parameter <span class="math notranslate nohighlight">\(\delta\)</span>  for Wei and Kirby (1999) wavemaker.    Need trial and error, usually, <span class="math notranslate nohighlight">\(\delta\)</span> =  <span class="math notranslate nohighlight">\(1.0 \sim 3.0\)</span>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">DEP_WK</span></code>: water depth (m) for Wei and Kirby (1999) wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Xc_WK</span></code>: x coordinate (m) for Wei and Kirby (1999) wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Yc_WK</span></code>: y coordinate (m) for Wei and Kirby (1999) wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Ywidth_WK</span></code>: width (m) in y direction for Wei and Kirby (1999) wavemaker. Default: LARGE (999999.0).</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Tperiod</span></code>: period (s) of regular wave for Wei and Kirby (1999) wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">AMP_WK</span></code>: amplitude (m) of regular wave for Wei and Kirby (1999) wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Theta_WK</span></code>: direction (degrees) of regular wave for Wei and Kirby (1999) wavemaker. Note: it may be adjusted if a periodic boundary condition is used. A warning will be given if adjustment is made.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Nfreq</span></code>: number of frequency components. Default: 45.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Ntheta</span></code>: number of direction components. Default: 24.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">FreqPeak</span></code>: peak frequency (1/s) for Wei and Kirby (1999) irregular wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">FreqMin</span></code>: low frequency cutoff (1/s) for Wei and Kirby (1999) irregular wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">FreqMax</span></code>: high frequency cutoff (1/s) for Wei and Kirby (1999) irregular wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Hmo</span></code>: Hmo (m) for Wei and Kirby (1999) irregular wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">GammaTMA</span></code>: TMA parameter <span class="math notranslate nohighlight">\(\gamma\)</span> for Wei and Kirby (1999) irregular wavemaker. <code class="code docutils literal notranslate"><span class="pre">GammaTMA</span> <span class="pre">=</span> <span class="pre">3.3</span></code> if JONSWAP is used.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">ThetaPeak</span></code>: peak direction (degrees) for Wei and Kirby (1999) irregular wavemaker.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Sigma_Theta</span></code>: parameter of directional spectrum for Wei and Kirby (1999) irregular wavemaker.</p></li>
</ul>
</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="wavemaker_coherence.html" title="Wave-maker specification2"
             >next</a> |</li>
        <li class="right" >
          <a href="wavemaker_para.html" title="Wave-maker specification"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FUNWAVE Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="definition.html" ><strong>DEFINITIONS OF PARAMETERS</strong></a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="central_para.html" >Parameters for Central Module</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="wavemaker_para.html" >Wave-maker specification</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Fengyan Shi.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>